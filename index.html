<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>‚úàÔ∏è Chicago Trip Planner ‚Äì Beautiful & Editable</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
:root{
  --bg:#f5f7fa;
  --card:#ffffffcc;
  --primary:#00b894;
  --text:#2d3436;
  --accent:#fdcb6e;
}
[data-theme="dark"]{
  --bg:#2d3436;
  --card:#636e7244;
  --primary:#55efc4;
  --text:#dfe6e9;
}
*{margin:0;padding:0;box-sizing:border-box}
body{background:var(--bg);color:var(--text);font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;transition:.3s}
header{padding:2em 1em;text-align:center;background:linear-gradient(135deg,var(--primary),#0984e3);color:#fff}
h1{font-size:2.2em;letter-spacing:.5px}
.controls{display:flex;gap:.5em;justify-content:center;flex-wrap:wrap;padding:1em}
.controls button,input[type=color]{border:none;padding:.5em 1em;border-radius:50px;font-size:.85em;cursor:pointer}
.controls button{background:#fff;color:var(--primary);box-shadow:0 2px 6px rgba(0,0,0,.1)}
input[type=color]{width:40px;height:40px;border-radius:50%;overflow:hidden}
.container{max-width:900px;margin:auto;padding:1em}
.card{background:var(--card);margin:1em 0;padding:1.5em;border-radius:20px;backdrop-filter:blur(10px);box-shadow:0 8px 32px rgba(0,0,0,.08);transition:.3s}
.card:hover{transform:translateY(-4px)}
.card-header{display:flex;justify-content:space-between;align-items:center;font-weight:700;font-size:1.1em;margin-bottom:.5em}
textarea{width:100%;min-height:80px;border:none;background:transparent;resize:vertical;font-size:.95em;color:var(--text)}
textarea:focus{outline:none}
.dragging{opacity:.4}
footer{text-align:center;padding:2em;font-size:.8em;color:var(--text)}
@media(max-width:600px){h1{font-size:1.8em}.controls{flex-direction:column}}
</style>
</head>
<body>

<header>
  <h1>‚úàÔ∏è Chicago 4-Day Planner</h1>
</header>

<div class="controls">
  <button onclick="addCard()">‚ûï Add Day</button>
  <button onclick="resetCards()">üîÑ Reset</button>
  <button onclick="exportJSON()">üì• Export</button>
  <input type="file" id="fileInput" accept=".json" onchange="importJSON(event)" hidden>
  <button onclick="fileInput.click()">üì§ Import</button>
  <button onclick="toggleTheme()">üåó Theme</button>
  Colour&nbsp;<input type="color" value="#00b894" oninput="setColor(this.value)">
</div>

<div id="planner"></div>

<footer>
  Drag cards to reorder ‚Ä¢ All edits auto-save locally ‚Ä¢ Works offline
</footer>

<script>
/* ---------- default data ---------- */
const defaultCards = [
  {title:"DAY 1 ‚Äì Wed (Arrival)",content:"üçΩÔ∏è Late-night: Usmania Fine Dining (open till 11 pm)\nüåü Goat biryani, chicken boti ‚Ä¢ 14 mi / 30 min"},
  {title:"DAY 2 ‚Äì Thu (Embassy + BBQ)",content:"üèõÔ∏è Embassy AM\nüçΩÔ∏è Lunch: Sabri Nihari ‚Äì beef nihari, BBQ ‚Ä¢ 14 mi / 30 min\nüé° Fun: Navy Pier / Lincoln Park Zoo / Millennium Park"},
  {title:"DAY 3 ‚Äì Fri (Jummah + Cruise)",content:"ü•û Breakfast: Pak Sweets ‚Äì puri halwa ‚Ä¢ 14 mi / 30 min\nüïå Jummah: Imam Ali Center (13 mi) or Downtown Islamic Center (0.9 mi)\nüçΩÔ∏è Early dinner: Al Bawadi Grill ‚Äì lamb chops ‚Ä¢ 19 mi / 35 min\nüö¢ Night: Chicago-by-Night River & Lake Cruise 7 pm ‚Ä¢ 1.5 mi / 6 min"},
  {title:"DAY 4 ‚Äì Sat (Ali Nihari)",content:"üçΩÔ∏è Lunch: Ali Nihari ‚Äì signature beef nihari ‚Ä¢ 14 mi / 30 min\nüõçÔ∏è Devon shopping / Oak St Beach / Museum of Science & Industry"},
  {title:"DAY 5 ‚Äì Sun (Departure)",content:"ü•ê Hotel breakfast ‚Üí checkout 12 pm\n‚úàÔ∏è Airport: O‚ÄôHare 18 mi / 35 min ‚Ä¢ Midway 12 mi / 25 min"}
];

let cards = JSON.parse(localStorage.getItem('chicagoCards')) || [...defaultCards];

/* ---------- render ---------- */
function render(){
  const box=document.getElementById('planner');
  box.innerHTML='';
  cards.forEach((c,i)=>{
    const div=document.createElement('div');
    div.className='card';
    div.draggable=true;
    div.innerHTML=`
      <div class="card-header">
        <span contenteditable="true" onblur="saveTitle(${i},this)">${c.title}</span>
        <button onclick="deleteCard(${i})">üóëÔ∏è</button>
      </div>
      <textarea onblur="saveContent(${i},this)">${c.content}</textarea>`;
    box.appendChild(div);
    dragEvents(div,i);
  });
}

/* ---------- CRUD ---------- */
function save(){localStorage.setItem('chicagoCards',JSON.stringify(cards));}
function saveTitle(i,el){cards[i].title=el.innerText;save();}
function saveContent(i,el){cards[i].content=el.value;save();}
function addCard(){cards.push({title:"New Day",content:"Describe your plans‚Ä¶"});save();render();}
function deleteCard(i){if(confirm('Delete this day?')){cards.splice(i,1);save();render();}}
function resetCards(){if(confirm('Reset to original?')){cards=[...defaultCards];save();render();}}

/* ---------- import/export ---------- */
function exportJSON(){
  const blob=new Blob([JSON.stringify(cards,null,2)],{type:'application/json'});
  const a=document.createElement('a');a.href=URL.createObjectURL(blob);a.download='chicago-trip.json';a.click();
}
function importJSON(e){
  const file=e.target.files[0];
  if(!file)return;
  const reader=new FileReader();
  reader.onload=()=>{cards=JSON.parse(reader.result);save();render();};
  reader.readAsText(file);
}

/* ---------- drag & drop ---------- */
function dragEvents(el,i){
  el.addEventListener('dragstart',e=>{e.dataTransfer.setData('text/plain',i);el.classList.add('dragging');});
  el.addEventListener('dragend',()=>el.classList.remove('dragging'));
  el.addEventListener('dragover',e=>e.preventDefault());
  el.addEventListener('drop',e=>{
    e.preventDefault();
    const from=+e.dataTransfer.getData('text/plain');
    const to=i;
    const item=cards.splice(from,1)[0];
    cards.splice(to,0,item);
    save();render();
  });
}

/* ---------- theme & colour ---------- */
function toggleTheme(){
  const body=document.body;
  body.dataset.theme = body.dataset.theme === 'dark' ? '' : 'dark';
  localStorage.setItem('theme',body.dataset.theme);
}
function setColor(c){
  document.documentElement.style.setProperty('--primary',c);
  localStorage.setItem('primaryColor',c);
}
(function initTheme(){
  if(localStorage.getItem('theme'))document.body.dataset.theme=localStorage.getItem('theme');
  const c=localStorage.getItem('primaryColor');
  if(c){document.documentElement.style.setProperty('--primary',c);document.querySelector('input[type=color]').value=c;}
})();

/* ---------- run ---------- */
render();
</script>

</body>
</html>
